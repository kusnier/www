import{a as A,b as T,c as O,d as F,e as P,f as V,g as L,h as R,i as z,j as $}from"./chunk-ZTBVVPMC.js";import{e as x,f as E,g as D,h as B,i as N}from"./chunk-33KUWYK6.js";import{Ac as k,Bb as o,Bc as w,Eb as _,Fb as h,Gb as M,Ia as m,Ra as I,Va as b,aa as g,ac as C,ba as f,cc as S,eb as d,fb as r,gb as n,hb as c,lb as v,nb as s,ob as p,yc as y}from"./chunk-MF7OS5YP.js";function j(l,e){if(l&1){let i=v();r(0,"div",8)(1,"mat-form-field",4)(2,"mat-label"),o(3,"Mit Leerzeichen"),n(),c(4,"input",9),r(5,"button",10),s("click",function(){g(i);let a=p();return f(a.copy(a.generatedIbanSpaced))}),r(6,"mat-icon"),o(7,"content_copy"),n()()(),r(8,"mat-form-field",4)(9,"mat-label"),o(10,"Ohne Leerzeichen"),n(),c(11,"input",9),r(12,"button",10),s("click",function(){g(i);let a=p();return f(a.copy(a.generatedIban))}),r(13,"mat-icon"),o(14,"content_copy"),n()()()()}if(l&2){let i=p();m(4),d("value",i.generatedIbanSpaced),m(7),d("value",i.generatedIban)}}function G(l,e){l&1&&(r(0,"div",11),o(1,"\u2705 IBAN ist g\xFCltig"),n())}function U(l,e){l&1&&(r(0,"div",12),o(1,"\u274C IBAN ist ung\xFCltig"),n())}var W=class l{generatedIban=null;generatedIbanSpaced=null;ibanInput="";validationResult=null;ngOnInit(){this.generateIban()}generateIban(){let e=this.randomDigits(8),i=this.randomDigits(10).padStart(10,"0"),t=`DE00${e}${i}`,a=this.calculateChecksum(t);this.generatedIban=`DE${a}${e}${i}`,this.generatedIbanSpaced=this.formatIban(this.generatedIban)}validateIbanLive(){let e=this.ibanInput.replace(/\s+/g,"").toUpperCase();if(e.length<15){this.validationResult=null;return}let t=(e.slice(4)+e.slice(0,4)).replace(/[A-Z]/g,a=>(a.charCodeAt(0)-55).toString());try{let a=BigInt(t)%97n;this.validationResult=a===1n?"valid":"invalid"}catch{this.validationResult="invalid"}}randomDigits(e){return Array.from({length:e},()=>Math.floor(Math.random()*10)).join("")}calculateChecksum(e){let t=(e.slice(4)+e.slice(0,4)).replace(/[A-Z]/g,Z=>(Z.charCodeAt(0)-55).toString());return(98n-BigInt(t)%97n).toString().padStart(2,"0")}formatIban(e){return e.replace(/(.{4})/g,"$1 ").trim()}copy(e){e&&navigator.clipboard.writeText(e)}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=I({type:l,selectors:[["app-iban"]],decls:22,vars:4,consts:[[1,"content-header"],[1,"icon"],["mat-raised-button","","color","primary",3,"click"],["class","iban-output",4,"ngIf"],["appearance","outline",1,"iban-field"],["matInput","","placeholder","DE89 3704 0044 0532 0130 00",3,"ngModelChange","ngModel"],["class","valid",4,"ngIf"],["class","invalid",4,"ngIf"],[1,"iban-output"],["matInput","","readonly","",3,"value"],["mat-icon-button","","matSuffix","",3,"click"],[1,"valid"],[1,"invalid"]],template:function(i,t){i&1&&(r(0,"div",0)(1,"h1")(2,"span",1),o(3,"\u{1F4B3}"),n(),o(4,"IBAN Generator & Validator"),n()(),c(5,"mat-divider"),r(6,"section")(7,"h2"),o(8,"IBAN generieren"),n(),r(9,"button",2),s("click",function(){return t.generateIban()}),o(10,"Neue IBAN erzeugen"),n(),b(11,j,15,2,"div",3),n(),c(12,"mat-divider"),r(13,"section")(14,"h2"),o(15,"IBAN validieren"),n(),r(16,"mat-form-field",4)(17,"mat-label"),o(18,"IBAN eingeben"),n(),r(19,"input",5),M("ngModelChange",function(u){return h(t.ibanInput,u)||(t.ibanInput=u),u}),s("ngModelChange",function(){return t.validateIbanLive()}),n()(),b(20,G,2,0,"div",6)(21,U,2,0,"div",7),n()),i&2&&(m(11),d("ngIf",t.generatedIban),m(8),_("ngModel",t.ibanInput),m(),d("ngIf",t.validationResult==="valid"),m(),d("ngIf",t.validationResult==="invalid"))},dependencies:[S,C,F,A,T,O,y,w,k,R,L,P,V,$,z,D,E,x,N,B],styles:["h2[_ngcontent-%COMP%]{margin-top:1.5rem;font-weight:600;font-size:1.2rem}.iban-field[_ngcontent-%COMP%]{width:100%;margin-top:1rem}button[_ngcontent-%COMP%]{margin-bottom:.5rem}.valid[_ngcontent-%COMP%]{color:#2e7d32;font-weight:700;margin-top:.5rem}.invalid[_ngcontent-%COMP%]{color:#d32f2f;font-weight:700;margin-top:.5rem}"]})};export{W as Iban};
