import{$ as v,$a as m,$b as O,Ab as C,Fa as c,Jb as S,Kb as E,Oa as h,_ as f,ab as _,bb as D,cb as d,db as t,eb as y,ha as w,ib as J,kb as x,lb as p,sc as P,tc as T,wb as M,yb as r,zb as g}from"./chunk-ROQRYFB2.js";function k(l,n){if(l&1&&(d(0,"div",4),r(1),t()),l&2){let e,a=p(2);c(),g((e=a.decoded())==null?null:e.error)}}function N(l,n){if(l&1&&(d(0,"div")(1,"strong"),r(2,"Ablaufzeit:"),t(),r(3),t()),l&2){let e=p(3);c(3),C(" ",e.expirationDate()," ")}}function V(l,n){if(l&1){let e=J();d(0,"div",5)(1,"strong"),r(2,"Status:"),t(),r(3),t(),m(4,N,4,1,"div"),d(5,"div",6)(6,"div",7)(7,"h3"),r(8,"Header"),t(),d(9,"button",8),x("click",function(){let i;f(e);let o=p(2);return v(o.copy(o.formatJson((i=o.decoded())==null?null:i.header)))}),r(10,"Copy"),t()(),d(11,"pre"),r(12),t()(),d(13,"div",6)(14,"div",7)(15,"h3"),r(16,"Payload"),t(),d(17,"button",8),x("click",function(){let i;f(e);let o=p(2);return v(o.copy(o.formatJson((i=o.decoded())==null?null:i.payload)))}),r(18,"Copy"),t()(),d(19,"pre"),r(20),t()(),d(21,"div",6)(22,"div",7)(23,"h3"),r(24,"Signature"),t(),d(25,"button",8),x("click",function(){let i;f(e);let o=p(2);return v(o.copy((i=o.decoded())==null?null:i.signature))}),r(26,"Copy"),t()(),d(27,"pre"),r(28),t()()}if(l&2){let e,a,i,o,u,s=p(2);M("invalid",!((e=s.decoded())!=null&&e.valid)),c(3),C(" ",(a=s.decoded())!=null&&a.valid?"\u2705 G\xFCltig":"\u274C Abgelaufen"," "),c(),_(s.expirationDate()?4:-1),c(8),g(s.formatJson((i=s.decoded())==null?null:i.header)),c(8),g(s.formatJson((o=s.decoded())==null?null:o.payload)),c(8),g((u=s.decoded())==null?null:u.signature)}}function F(l,n){if(l&1&&(d(0,"div",3),m(1,k,2,1,"div",4),m(2,V,29,7),t()),l&2){let e,a,i=p();c(),_((e=i.decoded())!=null&&e.error?1:-1),c(),_((a=i.decoded())!=null&&a.error?-1:2)}}var I=class l{jwtInput=w("");decoded=w(null);constructor(){E(()=>{let n=this.jwtInput();this.decodeJwt(n)})}decodeJwt(n){if(!n||!n.includes(".")){this.decoded.set(null);return}try{let[e,a,i]=n.split("."),o=JSON.parse(atob(e)),u=JSON.parse(atob(a)),s=Math.floor(Date.now()/1e3),b=u.exp,j=!b||b>s;this.decoded.set({header:o,payload:u,signature:i,valid:j})}catch{this.decoded.set({error:"Ung\xFCltiges JWT-Format"})}}formatJson(n){return JSON.stringify(n,null,2)}copy(n){navigator.clipboard.writeText(n)}expirationDate=S(()=>{let n=this.decoded()?.payload;return n?.exp?new Date(n.exp*1e3).toLocaleString():null});static \u0275fac=function(e){return new(e||l)};static \u0275cmp=h({type:l,selectors:[["app-jwt-decoder"]],decls:8,vars:2,consts:[[1,"content-header"],[1,"icon"],["mat-textarea","","placeholder","F\xFCge hier dein JWT ein...","rows","5",1,"input-area",3,"input","value"],[1,"result"],[1,"error"],[1,"status"],[1,"section"],[1,"header"],[3,"click"]],template:function(e,a){e&1&&(d(0,"div",0)(1,"h1")(2,"span",1),r(3,"\u{1F510}"),t(),r(4,"JWT Decoder"),t()(),y(5,"mat-divider"),d(6,"textarea",2),x("input",function(o){return a.jwtInput.set(o.target.value)}),t(),m(7,F,3,2,"div",3)),e&2&&(c(6),D("value",a.jwtInput()),c(),_(a.decoded()?7:-1))},dependencies:[O,T,P],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:2rem auto;padding:1rem;display:flex;flex-direction:column;gap:1.5rem}.title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;text-align:center}.input-area[_ngcontent-%COMP%]{margin-top:1rem;width:100%;font-family:monospace;border:1px solid #ccc;border-radius:8px;padding:.75rem;resize:vertical;font-size:.95rem}.result[_ngcontent-%COMP%]{background:#fafafa;border-radius:12px;padding:1rem;box-shadow:0 1px 3px #0000001a}.error[_ngcontent-%COMP%]{color:#b00020;font-weight:600;text-align:center}.status[_ngcontent-%COMP%]{font-weight:600;color:#0a0}.status.invalid[_ngcontent-%COMP%]{color:#b00020}.expiration[_ngcontent-%COMP%]{margin:.5rem 0 1rem}.section[_ngcontent-%COMP%]{margin-top:1rem}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}button[_ngcontent-%COMP%]{background:#007bff;color:#fff;border:none;border-radius:6px;padding:.25rem .75rem;cursor:pointer;transition:background .2s}button[_ngcontent-%COMP%]:hover{background:#0056b3}pre[_ngcontent-%COMP%]{background:#f0f0f0;padding:.5rem;border-radius:6px;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word}"]})};export{I as JwtDecoder};
